# Shadow AI - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìä **–û–±—â–∏–π –û–±–∑–æ—Ä –ü—Ä–æ–µ–∫—Ç–∞**

**–ù–∞–∑–≤–∞–Ω–∏–µ**: Shadow AI
**–¢–∏–ø**: SaaS-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è AI-powered –≤–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–π
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Next.js 15 + React 19 + TypeScript + PostgreSQL
**–°—Ç–∞—Ç—É—Å**: Production-ready —Å enterprise —Ñ–∏—á–∞–º

---

## üèóÔ∏è **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫**

### **Frontend & UI**
| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|-----------|------------|
| **Framework** | Next.js 15, React 19 |
| **Language** | TypeScript (strict mode) |
| **Styling** | Tailwind CSS v4, Radix UI, Shadcn UI |
| **State Management** | React Query (TanStack), Redux Toolkit |
| **Forms** | React Hook Form, Zod validation |
| **Icons** | Lucide React |

### **Backend & API**
| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|-----------|------------|
| **Runtime** | Next.js API Routes, Node.js 18+ |
| **API Layer** | tRPC (type-safe API) |
| **Database** | PostgreSQL (Neon), Drizzle ORM |
| **Authentication** | Better Auth |
| **Background Jobs** | Inngest |
| **Caching** | Next.js ISR, React Query |

### **External Services & Integrations**
| –°–µ—Ä–≤–∏—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | Integration |
|--------|------------|-------------|
| **Stream.io** | Video calls & real-time chat | SDK integration |
| **GigaChat** | AI chat, summaries, agents | REST API |
| **HeyGen/D-ID** | AI avatars & video generation | SDK integration |
| **Deepgram** | Speech-to-text transcription | WebSocket API |
| **AWS S3** | File storage (recordings, assets) | SDK integration |
| **Polar.sh** | Subscription billing & payments | API + webhooks |
| **Inngest** | Background job processing | Event-driven |

### **Development & Quality**
| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|-----------|------------|
| **Testing** | Jest, React Testing Library |
| **Linting** | ESLint, Prettier |
| **Build** | Turbopack, Webpack |
| **Database** | Drizzle Kit (migrations) |
| **Deployment** | Vercel |

---

## üìÅ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞**

### **–ú–æ–¥—É–ª—å–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
| –ú–æ–¥—É–ª—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ö–ª—é—á–µ–≤—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
|--------|------------|---------------------|
| **agents** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AI-–∞–≥–µ–Ω—Ç–∞–º–∏ | Agent CRUD, Custom instructions, Types |
| **meetings** | –í–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ | Video calls, AI avatars, Chat, Participants |
| **auth** | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | Sign-in/up, Sessions, OAuth, Security |
| **dashboard** | –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å | Navigation, User management, Layout |
| **subscriptions** | –ü–æ–¥–ø–∏—Å–∫–∏ | Pricing tiers, Billing, Limits, Payments |
| **recordings** | –ó–∞–ø–∏—Å–∏ –≤—Å—Ç—Ä–µ—á | Storage, Playback, Management, AWS S3 |
| **transcripts** | –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è | Speech-to-text, Summaries, AI insights |
| **home** | –õ–µ–Ω–¥–∏–Ω–≥ | Marketing pages, Features, Pricing |

### **–ü–∞–ø–æ—á–Ω–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞**
```
src/
‚îú‚îÄ‚îÄ app/                    # Next.js App Router (pages & layouts)
‚îÇ   ‚îú‚îÄ‚îÄ (auth)/            # Authentication routes
‚îÇ   ‚îú‚îÄ‚îÄ (dashboard)/       # Protected dashboard routes
‚îÇ   ‚îú‚îÄ‚îÄ api/               # API routes & external integrations
‚îÇ   ‚îî‚îÄ‚îÄ company/           # Marketing pages (blog, careers, etc.)
‚îú‚îÄ‚îÄ components/            # Reusable UI components
‚îÇ   ‚îú‚îÄ‚îÄ ui/               # Shadcn UI components (40+ components)
‚îÇ   ‚îú‚îÄ‚îÄ landing/          # Landing page sections
‚îÇ   ‚îî‚îÄ‚îÄ ...               # Feature-specific components
‚îú‚îÄ‚îÄ modules/               # Feature modules (modular architecture)
‚îÇ   ‚îú‚îÄ‚îÄ agents/           # AI agents functionality
‚îÇ   ‚îú‚îÄ‚îÄ meetings/         # Video conferencing
‚îÇ   ‚îú‚îÄ‚îÄ subscriptions/    # Billing & subscriptions
‚îÇ   ‚îî‚îÄ‚îÄ ...               # Other features
‚îú‚îÄ‚îÄ lib/                  # Utilities & configurations
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts           # Authentication client
‚îÇ   ‚îú‚îÄ‚îÄ stream.ts         # Video streaming config
‚îÇ   ‚îú‚îÄ‚îÄ gigachat.ts       # AI service integration
‚îÇ   ‚îî‚îÄ‚îÄ ...               # Other utilities
‚îú‚îÄ‚îÄ db/                   # Database schema & connection
‚îú‚îÄ‚îÄ trpc/                 # tRPC configuration
‚îú‚îÄ‚îÄ hooks/                # Custom React hooks
‚îî‚îÄ‚îÄ inngest/              # Background job functions
```

---

## üéØ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

### **1. AI-Powered Meetings**
| –§–∏—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------|----------|----------------------|
| **AI Avatars** | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã HeyGen/D-ID | Web Speech API + AI brain + TTS |
| **Intelligent Agents** | –ö–∞—Å—Ç–æ–º–Ω—ã–µ AI-–∞–≥–µ–Ω—Ç—ã –¥–ª—è –≤—Å—Ç—Ä–µ—á | GigaChat integration + Custom instructions |
| **Real-time Voice** | –ì–æ–ª–æ—Å–æ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å AI | Deepgram STT + Speech synthesis |
| **Context Awareness** | –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤—Å—Ç—Ä–µ—á–∏ | Natural language processing + Memory |

### **2. Video Conferencing Core**
| –§–∏—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------|----------|----------------------|
| **HD Video Calls** | –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤–∏–¥–µ–æ –¥–æ 1080p | Stream.io SDK + WebRTC |
| **Screen Sharing** | –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞ | WebRTC screen capture API |
| **Meeting Recording** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –≤ –æ–±–ª–∞–∫–æ | AWS S3 + Stream recording API |
| **Participant Management** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ | Real-time state sync + Permissions |
| **Noise Cancellation** | –ê–∫—Ç–∏–≤–Ω–æ–µ —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ | Stream audio processing |

### **3. Communication & Collaboration**
| –§–∏—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------|----------|----------------------|
| **Real-time Chat** | –ß–∞—Ç –≤–æ –≤—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏ | Stream Chat SDK + WebSocket |
| **AI Chat Suggestions** | AI-powered –ø–æ–¥—Å–∫–∞–∑–∫–∏ | Context-aware NLP models |
| **Message Translation** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ | Multi-language AI models |
| **System Messages** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | Event-driven messaging system |
| **File Sharing** | –û–±–º–µ–Ω —Ñ–∞–π–ª–∞–º–∏ | AWS S3 + Real-time sync |

### **4. AI Intelligence Features**
| –§–∏—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------|----------|----------------------|
| **Smart Transcripts** | AI-powered —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è | Deepgram + GigaChat post-processing |
| **Meeting Summaries** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ summaries | NLP + Extractive summarization |
| **Action Items** | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–¥–∞—á | Named entity recognition + Parsing |
| **Sentiment Analysis** | –ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π | ML sentiment models |
| **Key Points Extraction** | –í—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ | Text analysis + Ranking algorithms |

### **5. Enterprise Features**
| –§–∏—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------|----------|----------------------|
| **User Management** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ | Role-based access control (RBAC) |
| **Subscription Tiers** | Free/Pro/Enterprise –ø–ª–∞–Ω—ã | Polar.sh billing integration |
| **Usage Limits & Quotas** | –ö–≤–æ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é | Metrics tracking + Rate limiting |
| **Audit Logs** | –ñ—É—Ä–Ω–∞–ª—ã –¥–µ–π—Å—Ç–≤–∏–π | Event logging + Compliance |
| **Team Management** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏ | Multi-tenant architecture |
| **API Access** | –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –¥–æ—Å—Ç—É–ø | REST API + API keys |

---

## üíæ **–ú–æ–¥–µ–ª—å –î–∞–Ω–Ω—ã—Ö (PostgreSQL)**

### **Core Entities**
| Entity | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–ª—é—á–µ–≤—ã–µ –ü–æ–ª—è | –°–≤—è–∑–∏ |
|--------|----------|---------------|-------|
| **user** | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã | id, email, name, image, emailVerified, createdAt | Primary entity |
| **session** | –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ | id, token, userId, expiresAt, ipAddress, userAgent | ‚Üí user |
| **account** | OAuth –∞–∫–∫–∞—É–Ω—Ç—ã | id, providerId, accountId, userId, accessToken | ‚Üí user |
| **verification** | Email verification | id, identifier, value, expiresAt | Standalone |

### **Business Logic Entities**
| Entity | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–ª—é—á–µ–≤—ã–µ –ü–æ–ª—è | –°–≤—è–∑–∏ |
|--------|----------|---------------|-------|
| **agents** | AI-–∞–≥–µ–Ω—Ç—ã | id, name, userId, instructions | ‚Üí user |
| **meetings** | –í–∏–¥–µ–æ–≤—Å—Ç—Ä–µ—á–∏ | id, title, userId, agentId, status, scheduledAt, streamCallId | ‚Üí user, ‚Üí agents |
| **meeting_participants** | –£—á–∞—Å—Ç–Ω–∏–∫–∏ –≤—Å—Ç—Ä–µ—á | id, meetingId, userId, role, joinedAt, leftAt | ‚Üí meetings, ‚Üí user |
| **recordings** | –ó–∞–ø–∏—Å–∏ –≤—Å—Ç—Ä–µ—á | id, meetingId, fileUrl, duration, format, status | ‚Üí meetings |
| **transcripts** | –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ | id, meetingId, content, language, status | ‚Üí meetings |
| **transcript_summaries** | –°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ | id, transcriptId, summary, keyPoints, actionItems | ‚Üí transcripts |

### **Monetization & Analytics**
| Entity | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–ª—é—á–µ–≤—ã–µ –ü–æ–ª—è | –°–≤—è–∑–∏ |
|--------|----------|---------------|-------|
| **subscriptions** | –ü–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | id, userId, plan, status, polarSubscriptionId | ‚Üí user |
| **payments** | –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π | id, userId, subscriptionId, amount, status, polarPaymentId | ‚Üí user, ‚Üí subscriptions |
| **usage_metrics** | –ú–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | id, userId, meetingId, duration, storageUsed, date | ‚Üí user, ‚Üí meetings |
| **chat_messages** | –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞ | id, meetingId, userId, content, messageType, timestamp | ‚Üí meetings, ‚Üí user |

### **Database Design Principles**
- **UUID Primary Keys**: –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç nanoid –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ID
- **Foreign Key Constraints**: –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
- **Indexes**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Timestamps**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ createdAt/updatedAt –ø–æ–ª—è
- **Enums**: –°—Ç—Ä–æ–≥–∏–µ —Ç–∏–ø—ã –¥–ª—è status –ø–æ–ª–µ–π
- **JSONB Fields**: –ì–∏–±–∫–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (keyPoints, actionItems)

---

## üîå **API Architecture**

### **Internal API (tRPC)**
| Module | Procedures | Methods |
|--------|------------|---------|
| **agents** | create, update, delete, get, list | Query + Mutation |
| **meetings** | create, update, delete, join, leave, getParticipants | Query + Mutation |
| **auth** | signIn, signUp, signOut, getSession | Query + Mutation |
| **recordings** | upload, download, delete, getStatus | Query + Mutation |
| **transcripts** | process, getSummary, export | Query + Mutation |
| **subscriptions** | getPlan, upgrade, cancel, getUsage | Query + Mutation |

### **External API Endpoints**
| Endpoint | Method | Purpose | Integration |
|----------|--------|---------|-------------|
| `/api/auth/*` | GET/POST | Authentication | Better Auth |
| `/api/stream/token` | POST | Video call tokens | Stream.io |
| `/api/ai/chat` | POST | AI conversations | GigaChat |
| `/api/webhooks/polar` | POST | Payment webhooks | Polar.sh |
| `/api/webhooks/sber` | POST | Payment webhooks | SberPay |

### **Real-time Communication**
| Feature | Protocol | Implementation |
|---------|----------|----------------|
| **Video Calls** | WebRTC | Stream.io SDK |
| **Chat Messages** | WebSocket | Stream Chat |
| **AI Voice** | WebRTC + WebSocket | Deepgram + HeyGen |
| **Live Transcription** | WebSocket | Deepgram API |

---

## üé® **UI/UX Architecture**

### **Design System**
| Component Type | Library | Count | Features |
|---------------|---------|-------|----------|
| **Base Components** | Shadcn UI | 40+ | Button, Input, Card, Dialog, etc. |
| **Primitives** | Radix UI | 20+ | Accessible, unstyled components |
| **Icons** | Lucide React | 1000+ | Consistent iconography |
| **Charts** | Recharts | 15+ | Data visualization |

### **Key UI Components**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|-----------|------------|-------------|
| **VideoCall** | –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∏–¥–µ–æ | Stream SDK, controls, layout |
| **AIAvatarController** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AI-–∞–≤–∞—Ç–∞—Ä–∞–º–∏ | Speech recognition, TTS, states |
| **MeetingChat** | –ß–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | Real-time messaging, AI suggestions |
| **AgentForm** | –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤ | Validation, instructions editor |
| **PricingCard** | –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–∞—Ä–∏—Ñ–æ–≤ | Subscription management, features |
| **DashboardSidebar** | –ù–∞–≤–∏–≥–∞—Ü–∏—è | Responsive, role-based menus |
| **LoadingState** | Loading UI | Skeleton loaders, progress bars |

### **Theming & Styling**
- **Dark Theme**: Glass morphism design
- **Color Palette**: Consistent brand colors
- **Typography**: System fonts + custom scales
- **Spacing**: Tailwind spacing scale
- **Responsive**: Mobile-first approach

---

## üöÄ **Deployment & Production**

### **Infrastructure Stack**
| Component | Provider | Purpose |
|-----------|----------|---------|
| **Frontend/API** | Vercel | Hosting, CDN, serverless functions |
| **Database** | Neon | PostgreSQL, connection pooling |
| **File Storage** | AWS S3 | Recordings, assets, backups |
| **Video Processing** | Stream.io | Real-time video infrastructure |
| **AI Services** | Multiple | GigaChat, HeyGen, Deepgram |
| **Background Jobs** | Inngest | Event processing, queues |

### **Production Configuration**
| Aspect | Implementation |
|--------|----------------|
| **Environment** | Multi-env (dev/staging/prod) |
| **Secrets** | Vercel env vars, AWS Secrets |
| **Monitoring** | Vercel Analytics, custom logging |
| **Caching** | Next.js ISR, Redis (future) |
| **Backups** | Database snapshots, S3 versioning |
| **Security** | HTTPS, CORS, rate limiting |

### **Performance Optimizations**
- **Code Splitting**: Dynamic imports, route-based splitting
- **Image Optimization**: Next.js Image component, WebP format
- **Bundle Analysis**: Webpack bundle analyzer
- **Caching**: ISR, revalidate, React Query caching
- **CDN**: Vercel edge network, global distribution

---

## üí∞ **Business Model & Monetization**

### **Subscription Tiers**
| Plan | Price | Monthly Limits | Features |
|------|-------|----------------|----------|
| **Free** | $0 | 5 meetings, 1GB storage, 10K words | Basic video calls, AI chat |
| **Pro** | $29 | Unlimited meetings, 100GB storage | Full AI features, recordings |
| **Enterprise** | Custom | Unlimited everything | White-label, API access |

### **Revenue Streams**
| Stream | Implementation | Volume |
|--------|----------------|--------|
| **Subscriptions** | Polar.sh integration | Recurring monthly |
| **Add-ons** | Additional storage, features | One-time purchases |
| **Enterprise** | Custom contracts | Annual licensing |
| **API Usage** | Pay-per-use for API calls | Metered billing |

### **Usage Tracking**
| Metric | Tracking Method | Billing Impact |
|--------|-----------------|----------------|
| **Meeting Duration** | Stream.io webhooks | Pro tier limits |
| **Storage Used** | S3 usage metrics | Storage quotas |
| **Transcript Words** | Deepgram API | Word count limits |
| **AI API Calls** | Service-specific metering | Rate limiting |

---

## üîí **Security & Compliance**

### **Authentication & Authorization**
| Feature | Implementation |
|---------|----------------|
| **Multi-provider Auth** | GitHub, Google, Email/Password |
| **Session Management** | Secure HTTP-only cookies |
| **Role-based Access** | User roles (host, guest, admin) |
| **API Security** | JWT tokens, API keys |

### **Data Protection**
| Aspect | Implementation |
|--------|----------------|
| **Encryption** | End-to-end for video/audio |
| **Data Privacy** | GDPR compliance |
| **Audit Logging** | Full activity tracking |
| **Secure Storage** | Encrypted S3 buckets |

---

## üìà **Scalability & Performance**

### **Current Architecture Benefits**
- **Serverless**: Auto-scaling via Vercel
- **CDN**: Global content delivery
- **Database**: Connection pooling, read replicas
- **Caching**: Multiple levels (browser, CDN, server)

### **Future Scaling Considerations**
- **Microservices**: Service decomposition
- **Global Replication**: Multi-region deployment
- **Advanced Caching**: Redis clusters
- **Load Balancing**: Advanced routing rules

---

## üß™ **Quality Assurance**

### **Testing Strategy**
| Type | Tools | Coverage |
|------|-------|----------|
| **Unit Tests** | Jest + RTL | Components, utilities |
| **Integration Tests** | Jest + MSW | API interactions |
| **E2E Tests** | Playwright (future) | User flows |
| **Performance Tests** | Lighthouse, WebPageTest | Core Web Vitals |

### **Code Quality**
| Tool | Purpose | Configuration |
|------|---------|---------------|
| **ESLint** | Code linting | Next.js + TypeScript rules |
| **Prettier** | Code formatting | Consistent formatting |
| **TypeScript** | Type checking | Strict mode enabled |
| **Husky** | Git hooks | Pre-commit quality checks |

---

## üîÑ **Development Workflow**

### **Branching Strategy**
```
main (production)
‚îú‚îÄ‚îÄ develop (staging)
‚îÇ   ‚îú‚îÄ‚îÄ feature/ai-avatars
‚îÇ   ‚îú‚îÄ‚îÄ feature/recording-enhancements
‚îÇ   ‚îî‚îÄ‚îÄ bugfix/chat-performance
```

### **CI/CD Pipeline**
| Stage | Tools | Purpose |
|-------|-------|---------|
| **Lint** | ESLint | Code quality checks |
| **Test** | Jest | Unit & integration tests |
| **Build** | Next.js | Production build |
| **Deploy** | Vercel | Automatic deployments |

---

## üìö **API Documentation**

### **Public API (Future)**
- RESTful endpoints for integrations
- Webhook system for events
- SDK for major platforms
- OpenAPI specification

### **Internal API**
- tRPC procedures documentation
- Type definitions export
- Integration guides
- Rate limiting policies

 

*–î–æ–∫—É–º–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Shadow AI. –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: October 2025*
