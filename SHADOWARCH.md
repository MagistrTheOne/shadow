# ğŸ—ï¸ **Shadow.AI - ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Flow ĞŸĞ¾ÑĞ»Ğµ ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸**

## ğŸ” **Ğ¤Ğ°Ğ·Ğ° 1: ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ & ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Landing Page  â”‚â”€â”€â”€â–¶â”‚  Sign In/Up     â”‚â”€â”€â”€â–¶â”‚  Auth Success   â”‚
â”‚   (/)           â”‚    â”‚  (/sign-in/up)  â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Middleware     â”‚    â”‚ Better Auth     â”‚    â”‚  Session Token  â”‚
â”‚  Protection     â”‚    â”‚  (GitHub/Google)â”‚    â”‚  + User Data    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸšª **Ğ¤Ğ°Ğ·Ğ° 2: Ğ’Ñ…Ğ¾Ğ´ Ğ² Dashboard (Middleware Gateway)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Authenticated  â”‚
â”‚   User Request  â”‚
â”‚                 â”‚
â”‚ Headers:        â”‚
â”‚ - Authorization â”‚
â”‚ - Cookies       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Middleware    â”‚â”€â”€â”€â–¶â”‚   Validate      â”‚
â”‚   Check         â”‚    â”‚   Session       â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ 1. Parse Token  â”‚    â”‚ â€¢ JWT Verify    â”‚
â”‚ 2. Check DB     â”‚    â”‚ â€¢ User Status   â”‚
â”‚ 3. Route Access â”‚    â”‚ â€¢ Permissions   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard Layoutâ”‚
â”‚ (/dashboard)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ  **Ğ¤Ğ°Ğ·Ğ° 3: Dashboard Home (Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ¥Ğ°Ğ±)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layout         â”‚                  â”‚
â”‚                 â”‚                  â”‚
â”‚ â€¢ Sidebar Nav   â”‚                  â”‚
â”‚ â€¢ Breadcrumbs   â”‚                  â”‚
â”‚ â€¢ User Button   â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
         â”‚                           â”‚
         â–¼                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard Home  â”‚    â”‚     Quick Actions         â”‚
â”‚ (/dashboard)    â”‚    â”‚                           â”‚
â”‚                 â”‚    â”‚ â€¢ New Meeting             â”‚
â”‚ Stats Overview: â”‚    â”‚ â€¢ Start Video Call        â”‚
â”‚ â€¢ Upcoming Mtgs â”‚    â”‚ â€¢ Join by Code            â”‚
â”‚ â€¢ AI Agents     â”‚    â”‚ â€¢ Start Chat              â”‚
â”‚ â€¢ Recent Mtgs   â”‚    â”‚                           â”‚
â”‚ â€¢ Online Friendsâ”‚    â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ **Ğ¤Ğ°Ğ·Ğ° 4: ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞœĞ¾Ğ´ÑƒĞ»Ğ¸ (Core Features)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard Hub  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Meetings â”‚ â”‚ Agents  â”‚
â”‚(/meetings)â”‚ â”‚(/agents)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Create  â”‚ â”‚ Create  â”‚
â”‚ Meeting â”‚ â”‚ Agent   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Join    â”‚ â”‚ Edit    â”‚
â”‚ Call    â”‚ â”‚ Config  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¹ **Ğ¤Ğ°Ğ·Ğ° 5: Meeting Flow (Ğ’Ğ¸Ğ´ĞµĞ¾ ĞšĞ¾Ğ½Ñ„ĞµÑ€ĞµĞ½Ñ†Ğ¸Ğ¸)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Meeting Room   â”‚
â”‚  (/meeting/id)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Stream Video    â”‚    â”‚   UI Controls   â”‚
â”‚ Client Init     â”‚    â”‚                 â”‚
â”‚                 â”‚    â”‚ â€¢ Call Controls â”‚
â”‚ â€¢ API Key       â”‚    â”‚ â€¢ Participants  â”‚
â”‚ â€¢ User Token    â”‚    â”‚ â€¢ Chat          â”‚
â”‚ â€¢ Call ID       â”‚    â”‚ â€¢ Recording     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Video Stream   â”‚    â”‚   AI Features   â”‚
â”‚  (WebRTC)       â”‚    â”‚                 â”‚
â”‚                 â”‚    â”‚ â€¢ ANNA Avatar   â”‚
â”‚ â€¢ Audio/Video   â”‚    â”‚ â€¢ Transcription â”‚
â”‚ â€¢ Screen Share  â”‚    â”‚ â€¢ Moderation    â”‚
â”‚ â€¢ Recording     â”‚    â”‚ â€¢ Voice Agent   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤– **Ğ¤Ğ°Ğ·Ğ° 6: ANNA AI Assistant Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ANNA Page      â”‚
â”‚  (/anna)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Chat Mode     â”‚    â”‚   Video Mode    â”‚    â”‚  Settings Mode  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ GigaChat API  â”‚    â”‚ â€¢ HeyGen API    â”‚    â”‚ â€¢ Personality    â”‚
â”‚ â€¢ Context       â”‚    â”‚ â€¢ Avatar Video  â”‚    â”‚ â€¢ Language       â”‚
â”‚ â€¢ History       â”‚    â”‚ â€¢ Voice Agent   â”‚    â”‚ â€¢ Prompts        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AI Response   â”‚    â”‚   Video Gen     â”‚    â”‚   Config Save   â”‚
â”‚   Processing    â”‚    â”‚   Processing    â”‚    â”‚   Processing    â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Token Gen     â”‚    â”‚ â€¢ HeyGen API    â”‚    â”‚ â€¢ DB Update     â”‚
â”‚ â€¢ OpenAI/Sber   â”‚    â”‚ â€¢ Video Render  â”‚    â”‚ â€¢ Cache Clear   â”‚
â”‚ â€¢ Emotion Anlz  â”‚    â”‚ â€¢ Status Poll   â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ **Ğ¤Ğ°Ğ·Ğ° 7: API & Data Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User Action   â”‚
â”‚   (UI Event)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   tRPC Client   â”‚â”€â”€â”€â–¶â”‚   API Route     â”‚
â”‚   (Frontend)    â”‚    â”‚   (/api/trpc)   â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Query/Mutationâ”‚    â”‚ â€¢ Validation    â”‚
â”‚ â€¢ Optimistic UI â”‚    â”‚ â€¢ Auth Check    â”‚
â”‚ â€¢ Error Handlingâ”‚    â”‚ â€¢ DB Operation  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database      â”‚    â”‚   External API  â”‚
â”‚   (PostgreSQL)  â”‚    â”‚                 â”‚
â”‚                 â”‚    â”‚ â€¢ Stream Video  â”‚
â”‚ â€¢ Users         â”‚    â”‚ â€¢ HeyGen        â”‚
â”‚ â€¢ Meetings      â”‚    â”‚ â€¢ GigaChat      â”‚
â”‚ â€¢ Agents        â”‚    â”‚ â€¢ Deepgram      â”‚
â”‚ â€¢ Chats         â”‚    â”‚ â€¢ Uploadthing   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š **Ğ¤Ğ°Ğ·Ğ° 8: Background Processing (Inngest)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Meeting End   â”‚
â”‚   Event Trigger â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Inngest       â”‚â”€â”€â”€â–¶â”‚   Process       â”‚
â”‚   Function      â”‚    â”‚   Recording     â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Event Queue   â”‚    â”‚ â€¢ Deepgram API  â”‚
â”‚ â€¢ Retry Logic   â”‚    â”‚ â€¢ Transcript    â”‚
â”‚ â€¢ Error Handle  â”‚    â”‚ â€¢ Status Update â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Generate      â”‚â”€â”€â”€â–¶â”‚   AI Summary    â”‚
â”‚   Transcript    â”‚    â”‚   Processing    â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Word Count    â”‚    â”‚ â€¢ GigaChat API  â”‚
â”‚ â€¢ Language      â”‚    â”‚ â€¢ Key Points    â”‚
â”‚ â€¢ Save to DB    â”‚    â”‚ â€¢ Action Items  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ **Ğ¤Ğ°Ğ·Ğ° 9: Subscription & Limits Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User Action   â”‚
â”‚   (Create Agent)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Check Limits  â”‚â”€â”€â”€â–¶â”‚   Subscription  â”‚
â”‚   Service       â”‚    â”‚   Validation    â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ User ID       â”‚    â”‚ â€¢ Plan Check    â”‚
â”‚ â€¢ Feature Type  â”‚    â”‚ â€¢ Usage Count   â”‚
â”‚ â€¢ Current Usage â”‚    â”‚ â€¢ Limits Apply  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Allow   â”‚ â”‚  Deny   â”‚
â”‚  Action  â”‚ â”‚  Action â”‚
â”‚          â”‚ â”‚          â”‚
â”‚ â€¢ Proceed â”‚ â”‚ â€¢ Error  â”‚
â”‚ â€¢ DB Save â”‚ â”‚ â€¢ Upgrade â”‚
â”‚ â€¢ Success â”‚ â”‚ â€¢ Message â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ **ĞĞ±Ñ‰Ğ¸Ğ¹ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğ¹ Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend   â”‚    â”‚   Backend   â”‚    â”‚  External  â”‚
â”‚  (Next.js)  â”‚    â”‚   (API)     â”‚    â”‚   APIs     â”‚
â”‚             â”‚    â”‚             â”‚    â”‚            â”‚
â”‚ â€¢ Dashboard â”‚    â”‚ â€¢ tRPC      â”‚    â”‚ â€¢ Stream   â”‚
â”‚ â€¢ Meetings  â”‚    â”‚ â€¢ Auth      â”‚    â”‚ â€¢ HeyGen   â”‚
â”‚ â€¢ Agents    â”‚    â”‚ â€¢ Database  â”‚    â”‚ â€¢ GigaChat â”‚
â”‚ â€¢ ANNA      â”‚    â”‚ â€¢ Inngest   â”‚    â”‚ â€¢ Polar    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚     Database Layer      â”‚
              â”‚     (PostgreSQL)        â”‚
              â”‚                         â”‚
              â”‚ â€¢ Users & Sessions      â”‚
              â”‚ â€¢ Meetings & Agents     â”‚
              â”‚ â€¢ Chats & Transcripts   â”‚
              â”‚ â€¢ Usage & Subscriptions â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ **ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹**

### ğŸ” **Security First**
- **Middleware Protection** - Ğ’ÑĞµ dashboard Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ Ğ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½Ñ‹
- **Token-based Auth** - JWT ÑĞµÑÑĞ¸Ğ¸ Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¾Ğ¹ Ğ² Ğ‘Ğ”
- **API Validation** - Zod ÑÑ…ĞµĞ¼Ñ‹ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- **Rate Limiting** - Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ·Ğ»Ğ¾ÑƒĞ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ğ¹

### ğŸ¨ **User Experience**
- **Progressive Disclosure** - Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ñ€Ğ°ÑĞºÑ€Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ğ¿Ğ¾ÑÑ‚ĞµĞ¿ĞµĞ½Ğ½Ğ¾
- **Optimistic UI** - ĞĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ ÑĞ²ÑĞ·ÑŒ
- **Error Boundaries** - Graceful error handling
- **Loading States** - ĞŸĞ»Ğ°Ğ²Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ñ‹ Ğ¸ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ

### ğŸš€ **Performance**
- **Code Splitting** - Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹
- **Lazy Loading** - ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ÑÑ‚ÑÑ Ğ¿Ğ¾ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- **Caching** - Redis Ğ´Ğ»Ñ ÑĞµÑÑĞ¸Ğ¹, CDN Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- **Background Jobs** - Inngest Ğ´Ğ»Ñ Ñ‚ÑĞ¶ĞµĞ»Ñ‹Ñ… Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹

### ğŸ¤– **AI Integration**
- **ANNA as Core** - AI-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ²Ğ¾ Ğ²ÑĞµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸
- **Multi-Provider** - GigaChat + OpenAI fallback
- **Context Aware** - AI Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ¸/Ğ°Ğ³ĞµĞ½Ñ‚Ğ°
- **Real-time** - WebSocket Ğ´Ğ»Ñ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²

### ğŸ“Š **Scalability**
- **Horizontal Scaling** - Stateless API design
- **Database Sharding** - ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğº Ñ€Ğ¾ÑÑ‚Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- **CDN Distribution** - Global edge network Ñ‡ĞµÑ€ĞµĞ· Stream
- **Microservices Ready** - ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

---

## ğŸ—‚ï¸ **Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¡Ñ‚ĞµĞº**

### **Frontend**
- **Next.js 15** - App Router, SSR/SSG
- **React 19** - Concurrent features
- **TypeScript** - Type safety
- **Tailwind CSS** - Utility-first styling
- **shadcn/ui** - Component library
- **Lucide Icons** - Icon system

### **Backend**
- **Next.js API Routes** - Serverless functions
- **tRPC** - Type-safe API layer
- **Drizzle ORM** - Database toolkit
- **PostgreSQL** - Primary database
- **Redis** - Caching & sessions

### **External Services**
- **Stream Video** - Real-time communication
- **HeyGen** - AI avatars & video generation
- **GigaChat (Sber)** - Primary AI model
- **Deepgram** - Speech-to-text
- **Uploadthing** - File storage
- **Polar** - Subscription management

### **DevOps & Tools**
- **Inngest** - Background job processing
- **Better Auth** - Authentication
- **Jest** - Testing framework
- **ESLint/Prettier** - Code quality
- **Docker** - Containerization

---

## ğŸš€ **User Journey Flow**

```
1. Landing â†’ Sign In/Up â†’ Auth Success
   â†“
2. Middleware Check â†’ Dashboard Layout
   â†“
3. Dashboard Home â†’ Quick Actions â†’ Feature Selection
   â†“
4. Module Entry (Meetings/Agents/Chats/ANNA)
   â†“
5. Create/Edit/Join Actions
   â†“
6. Real-time Experience (Video/Chat/AI)
   â†“
7. Background Processing (Recording/Transcription/Summary)
   â†“
8. Completion & Analytics
```

**ğŸ¯ Mission Accomplished:** Shadow.AI delivers enterprise-grade AI-powered meeting experiences with seamless user flows, robust security, and scalable architecture.
